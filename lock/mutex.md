# 互斥锁

> mutex互斥锁。mutex为睡眠等待类型的锁，当线程抢锁失败后，线程会陷入休眠。可以节省CPU资源但会消耗一定的时间用于唤醒。

```
- 原子性：互斥锁为原子操作。
- 唯一性：一个线程锁定一个互斥量，在解锁前没有其它线程可以加锁。
- 非繁忙等待：如果一个线程已经锁定互斥量，第二个请求加锁的线程会被挂起，不占用CPU资源。
互斥锁加锁失败后，会从用户态陷入内核态，内核负责切换线程。简化了所得使用难度但带来性能开销。主要的开销来自于两次线程上下文切换： 
- 当加锁失败，内核会把线程的状态从运行态值为睡眠态，让出CPU资源。  
- 当其它线程释放锁，线程由睡眠态变为就绪态，再由内核将CPU资源给以该线程进入运行态。
作者：西瓜学习
链接：https://www.zhihu.com/question/66733477/answer/1567439188
来源：知乎
著作权归作者所有。
```

- 加锁
```
func (m *Mutex) Lock()
```
- 解锁
```
func (m *Mutex) Unlock()
```