# 锁
我们一般有三种方式降低锁的竞争程度:
- 减少锁的持有时间 
- 降低锁的请求频率 
- 使用带有协调机制的独占锁，这些机制允许更高的并发性。

悲观锁和乐观锁的选择根据二者不同的特点，特定场景下使用不同的锁。如果对相应效率有要求，使用乐观锁。在高并发场景下，同时提交失败是可接受的，操作多读少写，此时多使用乐观锁。如果冲突可能发生的概率很高，即竞争激烈，则使用悲观锁，但代价较大。悲观锁适合强一致性场景。乐观锁限制较大。当涉及多个变量时，需要悲观锁。

1. 悲观锁比较适合写入操作比较频繁的场景，如果出现大量的读取操作，每次读取的时候都会进行加锁，这样会增加大量的锁的开销，降低了系统的吞吐量。

2. 乐观锁比较适合读取操作比较频繁的场景，如果出现大量的写入操作，数据发生冲突的可能性就会增大，为了保证数据的一致性，应用层需要不断的重新获取数据，这样会增加大量的查询操作，降低了系统的吞吐量。
作者：西瓜学习
链接：https://www.zhihu.com/question/66733477/answer/1567439188
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。